<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>CMW test</title>
	<link rel="stylesheet" type="text/css" media="all" href="../../widgets/ui.css" />
	<link rel="stylesheet" type="text/css" media="all" href="../../widgets/themes/kde/stack.css" />
	<!--[if gte IE 5]>
		<link rel="stylesheet" type="text/css" media="all" href="../../widgets/ui.ie.css" />
		<link rel="stylesheet" type="text/css" media="all" href="../../widgets/themes/kde/stack/stack.ie.css" />
	<![endif]-->
	<link rel="stylesheet" type="text/css" media="all" href="../../widgets/themes/kde/resize_handle.css" />
	<link rel="stylesheet" type="text/css" media="all" href="../../widgets/themes/kde/windowmanager.css" />
	<script type="text/javascript" src="../../ui.js"></script>
	<script type="text/javascript" src="../../widgets/windowmanager.js"></script>
	<script type="text/javascript">
//<![CDATA[
function init()
{
	root = new CMWRootNode();
	var rootFrame = root.getFrame();
	rootFrame.style.top = "200px";
	rootFrame.style.left = "0px";
	rootFrame.style.width = UI.getFrameWidth() + "px";
	rootFrame.style.height = "300px";
	rootFrame.style.backgroundColor = "#ff0000";
	document.body.appendChild( rootFrame );
	
//	alert( root.getId() );
	
	ui = new UI();
	ui.registerEvent( "onresize", function( e )
	{
		root.getFrame().style.width = UI.getFrameWidth() + "px";
		root.getFrame().style.height = Math.max( 0, UI.getFrameHeight() - 300 ) + "px";
		root.redraw();
		return true;
	} );
	
//	w = new CMWWindow( root, "First Window" );
//	w.getFrame().style.backgroundColor = "#00ffff";
//	
//	rootFrame.appendChild( w.getFrame() );
	
	s = new CMWHSplitNode( root );
	root.replaceChild( s );
	s.getFrame().style.background = "#00ff00";
	
	root.redraw();
	
	t = new CMWHSplitNode( root );
	s.replaceLeftChild( t );
	t.getFrame().style.background = "#ffff00";
	
	u = new CMWVSplitNode( root );
	t.replaceRightChild( u );
	u.getFrame().style.background = "#00ffff";
	
	var windows = root.getWindows();
	for ( var i = 0; i < windows.length; ++i )
	{
		var wi = windows[ i ];
		wi.setTitle( "Window " + wi.getId() );
		wi.getFrame().style.background = "url(http://fly.mpi-cbg.de/~saalfeld/saalfeld.jpg) center center"
	}
	
	window.onresize();
	
//	alert( s.getRootNode().getId() );
//	windows = s.getRootNode().getWindows();
//	for ( var i = 0; i < windows.length; ++i )
//	{
//		alert( windows[ i ].getId() );
//		windows[ i ].getFrame().style.backgroundColor = "#ff0000";
//		
//	}
	
//	s = new CMWSplitNode( root );
//	alert( s.getFrame() );
//	alert( s.parent );
	
}
//]]>
	</script>
</head>
<body onload="init();"><a></a>
	<pre id = "text" style="margin:0px; height:200px; overflow:auto; background:#ddeeff">null</pre>
</body>
</html>